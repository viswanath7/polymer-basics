<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">

<dom-module id="icon-toggle">

    <style>
        .icon-status-text{
            text-shadow:1px 1px 1px rgba(94,185,255,1);
            font-weight:normal;
            color:#371DDE;
            letter-spacing:1pt;word-spacing:2pt;
            font-size:12px;text-align:left;
            font-family:lucida sans unicode, lucida grande, sans-serif;
            line-height:1;
        }
        :host {
            display: inline-block;
            --icon-toggle-color: rgba(220, 100, 50, 0.7);
            --icon-toggle-outline-color: black;
            --icon-toggle-pressed-color: rgba(89, 194, 67, 0.3);
        }
        iron-icon {
            fill: var(--icon-toggle-color, rgba(0,0,0,0));
            stroke: var(--icon-toggle-outline-color, currentcolor);
        }
        /*
        The :host() function matches the host element, if the selector inside the parentheses matches the host element.
        In this case, [pressed]is a standard CSS attribute selector,
        so this rule matches when the icon-toggle has a pressed attribute set on it.
        */
        :host([pressed]) iron-icon {
            fill: var(--icon-toggle-pressed-color, currentcolor);
        }
    </style>
    <template>
        <div>
            <iron-icon icon="[[name]]"></iron-icon>
            <span id="iconStatus" class="icon-status-text"></span>
        </div>

    </template>
</dom-module>

<script>
    Polymer({
        is: 'icon-toggle',
        properties: {
          name: String,
          pressed: {
            type: Boolean,
            value: false,
            notify: true,
            /* An event is fired whenever the property value changes */
            reflectToAttribute: true
            /*
                Keeps an HTML attribute value in sync with the property value.
                Any observable change to the property shall be serialized out to an attribute of same name.
             rgba(220, 100, 50, 0.7)
             */
          }
        },
        listeners: {
            'tap': 'toggle'
            // The tap event is generated by Polymer's gesture system
            // when the user clicks or taps on a target with a mouse or finger.
        },
        toggle: function() {
            this.pressed = !this.pressed;
            this.$.iconStatus.textContent = this.setIconStatus();
        },
        setIconStatus: function() {
            if(this.pressed) {
                return "ON";
            } else {
                return "OFF";
            }
        },
        ready: function() {
            this.$.iconStatus.textContent = this.setIconStatus();
        }
    });
</script>
